<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <template id="product" inherit_id="website_sale.product">
        <xpath expr="//div[@id='add_to_cart_wrap']" position="attributes">
            <attribute name="t-if">website.display_add_to_cart()</attribute>
        </xpath>
        <xpath expr="//div[@id='product_details']//a[hasclass('o_product_page_reviews_link')]" position="attributes">
            <attribute name="class" add="ept-total-review" separator=" "/>
        </xpath>
        <xpath expr="//div[@id='add_to_cart_wrap']" position="after">
            <t t-if="website.display_b2b_message()" t-call="theme_clarico_vega.b2b_hide_details_msg"/>
        </xpath>
        <xpath expr="//t[@t-call='website_sale.product_price']" position="attributes">
            <attribute name="t-if">website.display_product_price()</attribute>
        </xpath>
        <xpath expr="//section[@id='product_detail']//div[hasclass('align-items-center')]//div[hasclass('col-lg-6')][1]"
               position="replace"/>
        <xpath expr="//section[@id='product_detail']//div[hasclass('align-items-center')]" position="attributes">
            <attribute name="class">row align-items-center breadcrumb_mobile</attribute>
        </xpath>
        <xpath expr="//div[@id='o_product_terms_and_share']" position="before">
            <div class="te_p_sku">
                <div class="te_sku d-inline-block">SKU:</div>
                <div class="js_sku_div d-inline-block" itemprop="sku">N/A</div>
            </div>
            <t t-call="theme_clarico_vega.product_brand_container"/>
        </xpath>
        <xpath expr="//section[@id='product_detail']" position="after">
            <t t-if="product">
                <t t-call="theme_clarico_vega.html_content_tabs_ept"/>
            </t>
        </xpath>
        <xpath expr="//div[@id='product_full_description']" position="attributes">
          <attribute name="class">d-none</attribute>
        </xpath>
        <xpath expr="//div[@id='o_product_terms_and_share']" position="attributes">
            <attribute name="class" remove="d-flex flex-column flex-md-row align-items-md-end" separator=" "/>
        </xpath>
        <xpath expr="//div[@id='o_wsale_cta_wrapper']" position="inside">
            <t t-set="product_sticky_cart_bar"
               t-value="request.website.viewref('theme_clarico_vega.product_sticky_details_container').active"/>
            <t t-if="product_sticky_cart_bar">
                <t t-call="theme_clarico_vega.product_sticky_details_container"/>
            </t>
        </xpath>
        <xpath expr="//div[@id='product_details']//p[@t-field='product.description_sale']" position="replace">
            <t t-if="not request.website.viewref('theme_clarico_vega.hide_variant_info_in_cart').active">
                <p t-field="product.description_sale" class="text-muted my-2" placeholder="A short description that will also appear on documents." />
            </t>
        </xpath>
        <xpath expr="//div[hasclass('js_product')]" position="inside">
            <div class="d-flex mb-4 product_btns_right_block">
                <t t-if="is_view_active('website_sale_comparison.product_add_to_compare')">
                    <t t-set="categories"
                       t-value="product.valid_product_template_attribute_line_ids._prepare_categories_for_display()"/>
                    <t t-set="product_variant_id" t-value="product._get_first_possible_variant_id()"/>
                    <button t-if="product_variant_id and categories"
                            type="button"
                            role="button"
                            class="d-block btn btn-link px-0 o_add_compare_dyn"
                            aria-label="Compare"
                            t-att-data-product-product-id="product_variant_id"
                            data-action="o_comparelist">
                        <span class="fa fa-exchange me-2"/>
                    </button>
                </t>
                <t t-if="request.website.viewref('website_sale_wishlist.product_add_to_wishlist').active">
                    <t t-nocache="The wishlist depends on the user and must not be shared with other users. The product come from the controller.">
                        <t t-set="product_variant" t-value="product_variant or product._create_first_product_variant()"/>
                        <t t-set="in_wish" t-value="product_variant and product_variant._is_in_wishlist()"/>
                        <button t-if="product_variant" type="button" role="button"
                                class="d-md-inline-block btn o_add_wishlist_dyn"
                                t-att-disabled='in_wish or None'
                                t-att-data-product-template-id="product.id"
                                t-att-data-product-product-id="product_variant.id"
                                data-action="o_wishlist" title="Add to wishlist">
                            <i class="fa fa-heart-o me-2" role="img" aria-label="Add to wishlist"/>
                        </button>
                    </t>
                </t>
            </div>
        </xpath>
        <xpath expr="//div[@id='product_details']//h1" position="before">
            <t t-set="ribbon" t-value="product_variant.sudo().ribbon_id or product.sudo().website_ribbon_id"/>
            <t t-if="ribbon">
                <t t-set="ribbon_cls" t-value="ribbon['html_class'] and any(cls in ['o_ribbon_left','o_ribbon_right'] for cls in ribbon['html_class'].split(' '))"/>
                <t t-if="ribbon_cls">
                    <span t-attf-class="te_prod_label d-inline-block overflow-hidden position-relative #{ribbon['html_class'] if ribbon_cls else ''}"
                          t-attf-style="#{ribbon['bg_color'] and ('background-color: %s !important; ' % ribbon['bg_color'])} #{ribbon['text_color'] and ('color: %s !important; ' % ribbon['text_color'])}">
                        <t t-out="ribbon['html'] or ''"/>
                    </span>
                </t>
                <t t-else="">
                    <span t-attf-class="te_prod_label d-inline-block overflow-hidden position-relative #{ribbon['html_class'] if not (ribbon['bg_color'] and ribbon['text_color']) else ' '}"
                          t-attf-style="#{ribbon['bg_color'] and ('background-color: %s !important; ' % ribbon['bg_color'])} #{ribbon['text_color'] and ('color: %s !important; ' % ribbon['text_color'])}">
                        <t t-out="ribbon['html'] or ''"/>
                    </span>
                </t>
            </t>
        </xpath>
        <!--==================== show offer timer styles=================-->
        <xpath expr="//t[@t-placeholder='select']" position="before">
            <div class="te_time_main_div">
                <div class="te_time_main_div">
                    <div class="timer_data">
                        <div class="timer_input"/>
                    </div>
                    <div id="timer_portion_content_ept" class="te_display_end_date te_prod_bottom_margin d-none">
                        <div class='product_offer_timer'>
                            <span class='text-center d-inline-block'>
                                <div class='rounded_digit_product'>
                                    <span id='days' class='d-block  te_days_hr_min_sec'/>
                                    <div id='time_lbl' class='d-block'>Days</div>
                                </div>
                                <div class="digit_separator">:</div>
                            </span>
                            <span class='text-center d-inline-block'>
                                <div class='rounded_digit_product'>
                                    <span id='hours' class='d-block  te_days_hr_min_sec'/>
                                    <div id='time_lbl' class='d-block'>Hours</div>
                                </div>
                                <div class="digit_separator">:</div>
                            </span>
                            <span class='text-center d-inline-block'>
                                <div class='rounded_digit_product'>
                                    <span id='minutes' class='d-block te_days_hr_min_sec'/>
                                    <div id='time_lbl' class=' d-block'>Mins</div>
                                </div>
                                <div class="digit_separator">:</div>
                            </span>
                            <span class='text-center d-inline-block'>
                                <div class='rounded_digit_product'>
                                    <span id='seconds' class='d-block te_days_hr_min_sec'/>
                                    <div id='time_lbl' class='d-block'>Secs</div>
                                </div>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </xpath>
        <xpath expr="//t[@t-placeholder='select']" position="before">
            <div class="te_price_table d-none"/>
        </xpath>
    </template>
    <template id="timer_template_two" inherit_id="theme_clarico_vega.product" active="False" name="Timer Style 2">
        <xpath expr="//div[hasclass('te_time_main_div')]" position="replace">
            <div class="te_time_main_div timer_style_2">
                    <div class="te_time_main_div">
                        <div class="timer_data">
                            <div class="timer_input"/>
                        </div>
                        <div id="timer_portion_content_ept" class="te_display_end_date te_prod_bottom_margin d-none">
                            <div class='product_offer_timer'>
                                <span class='text-center d-inline-block'>
                                    <div class='rounded_digit_product'>
                                        <span id='days' class='d-block  te_days_hr_min_sec'/>
                                        <div id='time_lbl' class='d-block'>Days</div>
                                    </div>
                                </span>
                                <span class='text-center d-inline-block'>
                                    <div class='rounded_digit_product'>
                                        <span id='hours' class='d-block  te_days_hr_min_sec'/>
                                        <div id='time_lbl' class='d-block'>Hours</div>
                                    </div>
                                </span>
                                <span class='text-center d-inline-block'>
                                    <div class='rounded_digit_product'>
                                        <span id='minutes' class='d-block te_days_hr_min_sec'/>
                                        <div id='time_lbl' class=' d-block'>Mins</div>
                                    </div>
                                </span>
                                <span class='text-center d-inline-block'>
                                    <div class='rounded_digit_product'>
                                        <span id='seconds' class='d-block te_days_hr_min_sec'/>
                                        <div id='time_lbl' class='d-block'>Secs</div>
                                    </div>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
        </xpath>
    </template>
    <template id="timer_template_three" inherit_id="theme_clarico_vega.product" active="False" name="Timer Style 3">
        <xpath expr="//div[hasclass('te_time_main_div')]" position="replace">
            <div class="te_time_main_div timer_style_3">
                    <div class="te_time_main_div">
                        <div class="timer_data">
                            <div class="timer_input"/>
                        </div>
                        <div id="timer_portion_content_ept" class="te_display_end_date te_prod_bottom_margin d-none">
                            <div class='product_offer_timer'>
                                <span class='text-center d-inline-block'>
                                    <div class='rounded_digit_product'>
                                        <span id='days' class='d-block  te_days_hr_min_sec'/>
                                        <div id='time_lbl' class='d-block'>Days</div>
                                    </div>
                                </span>
                                <span class='text-center d-inline-block'>
                                    <div class='rounded_digit_product'>
                                        <span id='hours' class='d-block  te_days_hr_min_sec'/>
                                        <div id='time_lbl' class='d-block'>Hours</div>
                                    </div>
                                </span>
                                <span class='text-center d-inline-block'>
                                    <div class='rounded_digit_product'>
                                        <span id='minutes' class='d-block te_days_hr_min_sec'/>
                                        <div id='time_lbl' class=' d-block'>Mins</div>
                                    </div>
                                </span>
                                <span class='text-center d-inline-block'>
                                    <div class='rounded_digit_product'>
                                        <span id='seconds' class='d-block te_days_hr_min_sec'/>
                                        <div id='time_lbl' class='d-block'>Secs</div>
                                    </div>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
        </xpath>
    </template>
    <template id="timer_template_four" inherit_id="theme_clarico_vega.product" active="False" name="Timer Style 4">
        <xpath expr="//div[hasclass('te_time_main_div')]" position="replace">
            <div class="te_time_main_div timer_style_4">
                    <div class="te_time_main_div">
                        <div class="timer_data">
                            <div class="timer_input"/>
                        </div>
                        <div id="timer_portion_content_ept" class="te_display_end_date te_prod_bottom_margin d-none">
                            <div class='product_offer_timer'>
                                <span class='text-center d-inline-block'>
                                    <div class='rounded_digit_product'>
                                        <span id='days' class='d-block  te_days_hr_min_sec'/>
                                        <div id='time_lbl' class='d-block'>Days</div>
                                    </div>
                                </span>
                                <span class='text-center d-inline-block'>
                                    <div class='rounded_digit_product'>
                                        <span id='hours' class='d-block  te_days_hr_min_sec'/>
                                        <div id='time_lbl' class='d-block'>Hours</div>
                                    </div>
                                </span>
                                <span class='text-center d-inline-block'>
                                    <div class='rounded_digit_product'>
                                        <span id='minutes' class='d-block te_days_hr_min_sec'/>
                                        <div id='time_lbl' class=' d-block'>Mins</div>
                                    </div>
                                </span>
                                <span class='text-center d-inline-block'>
                                    <div class='rounded_digit_product'>
                                        <span id='seconds' class='d-block te_days_hr_min_sec'/>
                                        <div id='time_lbl' class='d-block'>Secs</div>
                                    </div>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
        </xpath>
    </template>
    <template id="product_attributes_body_ept" inherit_id="website_sale_comparison.product_attributes_body" >
        <xpath expr="//section[@id='product_full_spec']" position="replace"/>
    </template>
    <template id="product_review" inherit_id="website_sale.product_comment">
        <xpath expr="//div[hasclass('o_shop_discussion_rating')]" position="replace"/>
    </template>
    <template id="product_add_to_wishlist_ept" inherit_id="website_sale_wishlist.product_add_to_wishlist">
        <xpath expr="//t/button" position="replace"/>
    </template>
    <template id="product_compare_ept" inherit_id="website_sale_comparison.product_add_to_compare">
        <xpath expr="//button[@t-if='product_variant_id and categories']" position="replace"/>
    </template>
    <!--==================== product page shipping and share =================-->
    <template id="product_custom_polices_text" inherit_id="website_sale.product_custom_text">
        <xpath expr="//div[@id='o_product_terms_and_share']/p" position="replace">
            <hr/>
            <div class="te_s_shipping_info">
                <ul class="">
                    <li class="te_s_shipping_info_li text-muted border-right">
                        <span class="share_icon fa fa-money text-black mr-1"></span>
                        <span class="share_dsc">30-day money-back</span>
                    </li>
                    <li class="te_s_shipping_info_li text-muted border-right">
                        <span class="share_icon fa fa-undo text-black mr-1"></span>
                        <span class="share_dsc">7-day returns</span>
                    </li>
                    <li class="te_s_shipping_info_li text-muted border-right">
                        <span class="share_icon fa fa-clock-o text-black mr-1"></span>
                        <span class="share_dsc">Shipping: 2-3 Days</span>
                    </li>
                </ul>
            </div>
        </xpath>
    </template>
    <template id="te_product_share_buttons" inherit_id="website_sale.product_share_buttons">
        <xpath expr="//t[@t-snippet-call='website.s_share']/.." position="replace">
            <div class="d-inline-block align-middle">Share :</div>
            <div class="d-inline-block" contenteditable="false">
                <t t-snippet-call="website.s_share">
                    <t t-set="_exclude_share_links" t-value="['whatsapp', 'linkedin']"/>
                    <t t-set="_no_title" t-value="True"/>
                    <t t-set="_classes" t-valuef="text-lg-end"/>
                    <t t-set="_link_classes" t-valuef="mx-1 my-0"/>
                </t>
            </div>
        </xpath>
    </template>
     <!--=================== Product Tabs ========================-->
    <template id="html_content_tabs_ept" name="Product Tabs">
        <section class="product_tabs_ept s_tabs">
            <div class="container tabs_container_main">
                <div class="row s_col_no_bgcolor">
                    <div class="col-lg-12">
                        <div class="bg-white">
                            <nav class="product-header">
                                <div class="nav nav-tabs justify-content-center" id="nav-tab" role="tablist">
                                    <button class="nav-link active border-0 px-2" id="nav-home-tab" data-bs-toggle="tab" data-bs-target="#nav-home" type="button" role="tab"
                                            aria-controls="nav-home" aria-selected="true">
                                        <li class="product_tab_li">
                                            <a class="te_tab_mb_nav_link"
                                               t-if="product.website_description or request.env.user.has_group('website.group_website_designer')">
                                                <span class="fa fa-sliders me-2"/>
                                                <span class="nav_tab_title">Description</span>
                                            </a>
                                        </li>
                                    </button>
                                    <t t-set="categories" t-value="product.valid_product_template_attribute_line_ids._prepare_categories_for_display()"/>
                                    <t t-if="categories and request.website.viewref('website_sale_comparison.product_attributes_body').active">
                                        <button class="nav-link border-0 px-2" id="nav-profile-tab" data-bs-toggle="tab"
                                                data-bs-target="#nav-profile" type="button" role="tab"
                                                aria-controls="nav-profile" aria-selected="false">
                                            <li class="product_tab_li">
                                                <a class="te_tab_mb_nav_link" t-if="categories and request.env.user.has_group('website.group_website_designer') or categories and request.website.viewref('website_sale_comparison.product_attributes_body').active">
                                                    <span class="fa fa-sort-amount-desc me-2"/>
                                                    <span class="nav_tab_title">Specification</span>
                                                </a>
                                            </li>
                                        </button>
                                    </t>
                                    <button class="nav-link border-0 px-2" id="nav_tabs_link_ratings" data-bs-toggle="tab" data-bs-target="#nav-contact" type="button" role="tab" aria-controls="nav-contact" aria-selected="false"
                                            t-if="request.website.viewref('website_sale.product_comment').active">
                                        <li class="product_tab_li">
                                            <t t-if="request.website.viewref('website_sale.product_comment').active">
                                                <a class="te_tab_mb_nav_link">
                                                    <span class="fa fa-star me-2"/>
                                                    <span class="nav_tab_title">Ratings and Reviews</span>
                                                </a>
                                            </t>
                                        </li>
                                    </button>
                                    <t t-if="product.sudo().document_ids">
                                        <button class="nav-link border-0 px-2" id="nav-document-tab" data-bs-toggle="tab" data-bs-target="#nav-document" type="button" role="tab" aria-controls="nav-contact" aria-selected="false"
                                                t-if="len(product.sudo().document_ids.filtered(lambda x:x.public == true)) > 0">
                                            <li class="product_tab_li">
                                                <a class=" te_tab_mb_nav_link"
                                                   t-if="product.sudo().document_ids and request.env.user.has_group('website.group_website_designer') or product.sudo().document_ids">
                                                    <span class="fa fa-file-text me-2"/>
                                                    <span class="nav_tab_title">Documents</span>
                                                </a>
                                            </li>
                                        </button>
                                    </t>
                                    <t t-set="user_type"
                                       t-value="request.env.user.has_group('website.group_website_designer')"/>
                                    <t t-set="global_tabs_domain"
                                       t-value="[('tab_type', '=', 'global')] if user_type else [('tab_type', '=', 'global'), ('website_published', '=', True)]"/>
                                    <t t-foreach="product.tab_line_ids" t-as="tab">
                                        <t t-if="request.env['product.tab.line'].check_tab(website.id,tab.website_ids.ids)">
                                            <t t-if="request.env['product.tab.line'].check_tab_publish(tab)">
                                                <button class="nav-link" t-att-id="'nav-global-tab_%s_%s' % (product.id, tab.id)" data-bs-toggle="tab"
                                                        t-att-data-bs-target="'#nav-global_%s_%s' % (product.id, tab.id)" type="button" role="tab"
                                                        t-att-aria-controls="'nav_tabs_content_%s_%s' % (product.id, tab.id)" aria-selected="false">
                                                    <li class="product_tab_li">
                                                        <a class="te_tab_mb_nav_link"
                                                           t-if="tab.tab_content or request.env.user._is_admin()">
                                                            <span t-field="tab.icon_content"/>
                                                            <span t-field="tab.tab_name" class="nav_tab_title"/>
                                                        </a>
                                                    </li>
                                                </button>
                                            </t>
                                        </t>
                                    </t>
                                </div>
                            </nav>
                            <div class="tab-content accordion" id="prd-tab-content">
                                <div class="tab-pane fade show active py-3"
                                     aria-labelledby="nav-home-tab" id="nav-home">
                                    <div class="card-header" role="tab" id="prd-tab-content_description">
                                        <h6 class="mb-0">
                                            <a class="te-tab-a collapsed" data-bs-toggle="collapse"
                                               data-bs-target="#collapse_description" aria-expanded="false"
                                               aria-controls="collapse_description">
                                                <span class="fa fa-sliders me-2"/>
                                                <span class="nav_tab_title">Description</span>
                                            </a>
                                        </h6>
                                    </div>
                                    <div id="collapse_description" class="collapse accordion-collapse" data-parent="#prd-tab-content" aria-labelledby="prd-tab-content_description">
                                        <div class="accordion-body">
                                            <div itemprop="description" t-field="product.website_description" class="oe_structure"/>
                                        </div>
                                    </div>
                                </div>
                                <t t-set="categories" t-value="product.valid_product_template_attribute_line_ids._prepare_categories_for_display()"/>
                                <t t-if="categories and request.website.viewref('website_sale_comparison.product_attributes_body').active">
                                    <div class="tab-pane fade py-3" id="nav-profile" aria-labelledby="nav-profile-tab">
                                        <div class="card-header" role="tab" id="prd-tab-content_specification">
                                            <h6 class="mb-0">
                                                <a data-bs-toggle="collapse" class="te-tab-a collapsed" data-bs-target="#collapse_specifications" aria-expanded="false" aria-controls="collapse_specification">
                                                    <span class="fa fa-sort-amount-desc me-2"/>
                                                    <span class="nav_tab_title">Specifications</span>
                                                </a>
                                            </h6>
                                        </div>
                                        <div id="collapse_specifications" class="collapse accordion-collapse"
                                             data-parent="#prd-tab-content"
                                             aria-labelledby="prd-tab-content_specification">
                                            <div class="accordion-body p-0">
                                                <section class="container-fluid te_product_spec" id="product_full_spec">
                                                    <div class="row">
                                                        <div class='col-lg-12' id='product_specifications'>
                                                            <table class='table table-striped table-sm table-hover mb-0'>
                                                                <t t-foreach="categories" t-as="category">
                                                                    <t t-if="len(categories) > 1">
                                                                        <tr class="clickable " data-bs-toggle="collapse"
                                                                            t-att-aria-controls="'o_ws_category_%d' % category.id"
                                                                            t-att-data-bs-target="'#o_ws_category_%d' % category.id"
                                                                            aria-expanded="true">
                                                                            <th class="text-left" t-att-colspan="2">
                                                                                <i class="fa fa-chevron-down te_ctg_icon"/>
                                                                                <span t-if="category"
                                                                                      t-field="category.name"/>
                                                                                <span t-else="">Uncategorized</span>
                                                                            </th>
                                                                        </tr>
                                                                    </t>
                                                                    <tr t-foreach="categories[category].filtered(lambda l: len(l.value_ids) > 1)"
                                                                        t-as="ptal"
                                                                        t-att-id="'o_ws_category_%d' % category.id"
                                                                        t-att-class="'collapse show  o_ws_category_%d' % category.id">
                                                                        <td class="text-capitalize">
                                                                            <span class="att_name" t-field="ptal.attribute_id.name"/>
                                                                        </td>
                                                                        <td>
                                                                            <t t-foreach="ptal.value_ids" t-as="pav">
                                                                                <span t-field="pav.name"/>
                                                                                <t t-if="not pav_last"> or </t>
                                                                            </t>
                                                                        </td>
                                                                    </tr>
                                                                    <t t-set="single_value_attributes"
                                                                       t-value="categories[category]._prepare_single_value_for_display()"/>
                                                                    <tr t-foreach="single_value_attributes"
                                                                        t-as="attribute"
                                                                        t-att-id="'o_ws_category_%d' % category.id"
                                                                        t-att-class="'collapse show o_ws_category_%d' % category.id ">
                                                                        <td>
                                                                            <span t-field="attribute.name"/>
                                                                        </td>
                                                                        <td>
                                                                            <t t-foreach="single_value_attributes[attribute]"
                                                                               t-as="ptal">
                                                                                <span t-field="ptal.product_template_value_ids._only_active().name"/>
                                                                                <t t-if="not ptal_last"> or </t>
                                                                            </t>
                                                                        </td>
                                                                    </tr>
                                                                </t>
                                                            </table>
                                                        </div>
                                                        <t t-if="is_view_active('website_sale.product_tags')">
                                                            <div class="col-lg-12">
                                                                <table class="table product_tags">
                                                                    <t t-if="product.product_variant_ids.all_product_tag_ids">
                                                                        <tr class="product_tag_tr">
                                                                            <th class="text-start" t-att-colspan="2">
                                                                                <span>Tags</span>
                                                                            </th>
                                                                        </tr>
                                                                        <tr class="d-flex">
                                                                            <td class="w-25 d-flex align-items-center"><span>Tags</span></td>
                                                                            <td class="w-75 text-muted">
                                                                                <t t-call="website_sale.product_tags">
                                                                                    <t t-set="all_product_tags" t-value="product.product_variant_ids.all_product_tag_ids"/>
                                                                                </t>
                                                                            </td>
                                                                        </tr>
                                                                    </t>
                                                                </table>
                                                            </div>
                                                        </t>
                                                    </div>
                                                </section>
                                            </div>
                                        </div>
                                    </div>
                                </t>
                                <t t-if="request.website.viewref('website_sale.product_comment').active">
                                    <div class="tab-pane fade py-3" id="nav-contact"
                                         aria-labelledby="nav_tabs_link_ratings">
                                        <div class="card-header" role="tab" id="prd_card_content_ratings">
                                            <h6 class="mb-0">
                                                <a data-bs-toggle="collapse" class="te-tab-a collapsed" data-bs-target="#collapse_ratings"
                                                   aria-expanded="false" aria-controls="collapse_ratings">
                                                    <span class="fa fa-star me-2"/>
                                                    <span class="nav_tab_title">Ratings and Reviews</span>
                                                </a>
                                            </h6>
                                        </div>
                                        <div id="collapse_ratings" class="collapse accordion-collapse"
                                             data-parent="#prd-tab-content"
                                             aria-labelledby="prd_card_content_ratings">
                                            <div class="accordion-body">
                                                <div class="o_shop_discussion_rating oe_overlay_options o_not_editable"
                                                     id="shop_rating">
                                                    <div class="container">
                                                        <div class="row">
                                                            <div class="col-lg-12 mt16">
                                                                <t t-call="portal.message_thread">
                                                                    <t t-set="object" t-value="product"/>
                                                                    <t t-set="display_rating" t-value="True"/>
                                                                </t>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </t>
                                <t t-if="product.sudo().document_ids">
                                    <div class="tab-pane fade py-3" id="nav-document" aria-labelledby="nav-document-tab"
                                         t-if="len(product.sudo().document_ids.filtered(lambda x:x.public == true)) > 0">
                                        <div class="card-header" role="tab" id="prd_card_content_doc">
                                            <h6 class="mb-0">
                                                <a data-bs-toggle="collapse" class="collapsed te-tab-a" data-bs-target="#collapse_doc"
                                                   aria-expanded="false" aria-controls="collapse_doc">
                                                    <span class="fa fa-file-text me-2"/>
                                                    <span class="nav_tab_title">documents</span>
                                                </a>
                                            </h6>
                                        </div>
                                        <div id="collapse_doc" class="collapse accordion-collapse" data-parent="#prd-tab-content" aria-labelledby="prd_card_content_doc">
                                            <div class="accordion-body">
                                                <div itemprop="doc" id="product_documents">
                                                    <ul class="list-unstyled text-center">
                                                        <t t-foreach="product.sudo().document_ids" t-as="doc">
                                                            <li t-if="doc.public" class="doc_list">
                                                                <t t-if="doc.type=='url'">
                                                                    <a t-att-href="doc.sudo().website_url" target="_blank" class="te_icon">
                                                                        <i class="fa fa-external-link" t-att-data-mimetype="doc.sudo().mimetype"/>
                                                                    </a>
                                                                    <a t-att-href="doc.sudo().website_url" target="_blank">
                                                                        <t t-esc="doc.name"/>
                                                                    </a>
                                                                </t>
                                                                <t t-else="">
                                                                    <a t-att-href="doc.sudo().website_url" t-att-download="doc.name">
                                                                        <i class="o_image o_image_thumbnail" t-att-data-mimetype="doc.sudo().mimetype"/>
                                                                    </a>
                                                                    <a t-att-href="doc.sudo().website_url" t-att-download="doc.name">
                                                                        <t t-esc="doc.name"/>
                                                                    </a>
                                                                </t>
                                                            </li>
                                                        </t>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </t>
                                <t t-set="user_type" t-value="request.env.user.has_group('website.group_website_designer')"/>
                                <t t-set="global_tabs_domain" t-value="[('tab_type', '=', 'global')] if user_type else [('tab_type', '=', 'global'), ('website_published', '=', True)]"/>
                                <t t-foreach="product.tab_line_ids" t-as="tab">
                                    <t t-if="request.env['product.tab.line'].check_tab(website.id,tab.website_ids.ids)">
                                        <t t-if="request.env['product.tab.line'].check_tab_publish(tab)">
                                            <div class="tab-pane fade py-3" t-att-id="'nav-global_%s_%s' % (product.id, tab.id)"
                                                 t-att-aria-labelledby="'nav-global-tab_%s_%s' % (product.id, tab.id)">
                                                <div class="card-header" role="tab"
                                                     t-att-id="'prd_card_content_%s_%s' % (product.id, tab.id)">
                                                    <h6 class="mb-0">
                                                        <a class="collapsed te-tab-a" data-bs-toggle="collapse" t-att-data-bs-target="'#collapse_%s_%s' % (product.id, tab.id)"
                                                           data-bs-parent="#prd-tab-content" aria-expanded="false" t-att-aria-controls="'collapse_%s_%s' % (product.id, tab.id)">
                                                            <span class="fa fa-info-circle me-2"/>
                                                            <span t-field="tab.tab_name" class="nav_tab_title"/>
                                                        </a>
                                                    </h6>
                                                </div>
                                                <div t-att-id="'collapse_%s_%s' % (product.id, tab.id)" data-parent="#prd-tab-content" class="collapse accordion-collapse"
                                                     t-att-aria-labelledby="'prd_card_content_%s_%s' % (product.id, tab.id)">
                                                    <div class="accordion-body">
                                                        <div t-field="tab.tab_content"
                                                             class="oe_structure"/>
                                                    </div>
                                                </div>
                                            </div>
                                        </t>
                                    </t>
                                </t>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </template>
    <template id="product_brand_container">
        <t t-if="product.product_brand_id and product.product_brand_id.image_128 or product.product_brand_id.description">
            <div class="d-block t-brand" t-if="product.product_brand_id.website_id.id == request.website.id or not product.product_brand_id.website_id.id">
                <span class="te_brand_name">Brand:</span>
                <a  t-att-href="'/shop/brands/%s-%s' %(product.product_brand_id.name.replace(' ','-'),product.product_brand_id.id)">
                    <span class="text-decoration-underline brand_dsc" t-esc="product.product_brand_id.name"/>
                </a>
            </div>
        </t>
    </template>
    <template id="product_tags_ept" inherit_id="website_sale.product_tags">
        <xpath expr="//div[hasclass('o_product_tags')]//span[@t-if='tag.image']" position="attributes">
            <attribute name="t-att-title">tag.name</attribute>
            <attribute name="data-bs-toggle">tooltip</attribute>
            <attribute name="data-bs-placement">top</attribute>
            <attribute name="data-html">true</attribute>
        </xpath>
        <xpath expr="//div[hasclass('o_product_tags')]//span[hasclass('position-relative')]" position="attributes">
            <attribute name="class" add="tage_lbl" remove="py-1" separator=" "/>
        </xpath>
        <xpath expr="//div[hasclass('o_product_tags')]//span[hasclass('position-relative')]//span[hasclass('position-absolute')]" position="attributes">
            <attribute name="class" add="product_tags" separator=" "/>
        </xpath>
    </template>
    <!--=================== Product sticky details =====================-->
    <template id="product_sticky_details_container">
        <t t-if="product">
            <div class="product_details_sticky">
                <div class="prod_details_sticky_div">
                    <div class="prod_details_sticky_left">
                        <div class="prod_img">
                            <img t-att-src="'/web/image/product.template/%s/image_256' % product.id" class="img img-fluid rounded" alt="Product Image"/>
                        </div>
                        <div class="sticky_info">
                            <div class="cat_name">
                                <t t-if="product.public_categ_ids.ids">
                                    <t t-set="categ_count" t-value="1"/>
                                    <t t-foreach="product.public_categ_ids" t-as="categ_rec">
                                        <li class="te_p_categ_item d-inline-flex">
                                            <a class="text-muted" t-att-href="'/shop/category/%s' %slug(categ_rec)">
                                                <span t-esc="categ_rec.name"/>
                                            </a>
                                            <t t-if="len(product.public_categ_ids.ids)  &gt; categ_count">,</t>
                                        </li>
                                        <t t-set="categ_count" t-value="categ_count + 1"/>
                                    </t>
                                </t>
                            </div>
                            <div class="prod_name">
                                <h1 t-field="product.name" class="te_product_name">Product Name</h1>
                            </div>
                            <div class="prod_price">
                                <del t-attf-class="te_shop_del mr-2 {{'' if combination_info['has_discounted_price'] else 'd-none'}}" style="white-space: nowrap;" t-esc="combination_info['list_price']"
                                     t-options="{'widget': 'monetary', 'display_currency': website.currency_id}"/>
                                <span t-if="combination_info['price']" t-esc="combination_info['price']"
                                      t-options="{'widget': 'monetary', 'display_currency': website.currency_id}"/>
                            </div>
                        </div>
                        <div class="prod_details_sticky_right" t-if="website.display_add_to_cart()">
                            <div class="prod_add_cart">
                                <t t-set="buy_now_show"
                                   t-value="request.website.viewref('website_sale.product_buy_now').active"/>
                                <a role="button" id="add_to_cart" t-attf-class="btn btn-primary a-submit btn-md mt16 te_theme_button te_add_to_cart_sticky #{'w-100' if not buy_now_show else 'w-50'} #{'disabled' if product.remove_cart_button() else ' '}" href="#">
                                    <span class="fa fa-shopping-cart"/>Add to Cart</a>
                                <t t-if="buy_now_show">
                                    <a role="button" t-attf-class="btn btn-outline-primary btn-md mt16 d-block d-sm-inline-block o_we_buy_now te_buy_now_sticky te_theme_button w-50 #{'disabled' if product.remove_cart_button() else ' '}" href="#">
                                        <span class="fa fa-bolt"/>Buy Now</a>
                                </t>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </t>
    </template>
    <template id="product_buy_now_esc" inherit_id="website_sale.product_buy_now">
        <xpath expr="//a[contains(@t-attf-class, 'o_we_buy_now')]" position="attributes">
            <attribute name="t-attf-class">btn btn-outline-primary o_we_buy_now ms-1 #{'' if ctaSizeBig else ''}</attribute>
        </xpath>
    </template>
    <template id="tax_indication_ept">
        <t t-set="curr_pricelist" t-value="website._get_current_pricelist()"/>
        <t t-if="curr_pricelist.display_product_price == 'system_setting'">
            <span t-if="website.show_line_subtotals_tax_selection == 'tax_excluded'" class="h6 text-muted">
                VAT Excluded
            </span>
            <span t-else="" class="h6 text-muted">
                VAT Included
            </span>
        </t>
        <t t-else="">
            <span t-if="curr_pricelist.display_product_price == 'total_excluded'" class="h6 text-muted">
                VAT Excluded
            </span>
            <span t-else="" class="h6 text-muted">
                VAT Included
            </span>
        </t>
    </template>
    <template id="product_price_ept" inherit_id="website_sale.product_price">
        <xpath expr="//div[@itemprop='offers']" position="replace">
            <div itemprop="offers" itemscope="itemscope" itemtype="http://schema.org/Offer"
                t-attf-class="product_price mt16 te_prod_bottom_margin {{'d-none' if combination_info['prevent_zero_price_sale'] else 'd-inline-block'}}">
                <t t-set="difference" t-value="round(combination_info['list_price'] - combination_info['price'],2) "/>
                <t t-set="discount" t-value="round(difference*100/combination_info['list_price']) if combination_info['list_price'] &gt; 0 else 0"/>
                <h3 class="oe_price_h4 css_editable_mode_hidden d-inline-block">
                    <span class="oe_price"
                      style="white-space: nowrap;"
                      t-out="combination_info['price']"
                      t-options="{'widget': 'monetary', 'display_currency': website.currency_id}"/>
                    <span itemprop="price" style="display:none;" t-out="combination_info['price']"/>
                    <span itemprop="priceCurrency" style="display:none;" t-esc="website.currency_id.name"/>
                    <span t-attf-class="text-danger oe_default_price ms-1 h5 fw-normal {{'' if combination_info['has_discounted_price'] and not combination_info['compare_list_price'] else 'd-none'}}"
                          style="text-decoration: line-through; white-space: nowrap;" t-esc="combination_info['list_price']"
                          t-options="{'widget': 'monetary', 'display_currency': website.currency_id}" itemprop="listPrice"/>
                    <t t-if="is_view_active('website_sale.tax_indication')" t-call="theme_clarico_vega.tax_indication_ept"/>
                    <del t-if="combination_info['compare_list_price'] and (combination_info['compare_list_price'] &gt; combination_info['price'])">
                        <bdi dir="inherit">
                        <span t-esc="combination_info['compare_list_price']"
                              groups="website_sale.group_product_price_comparison"
                              t-options="{'widget': 'monetary', 'display_currency': website.currency_id}"/>
                        </bdi>
                    </del>
                </h3>
                <h3 class="css_non_editable_mode_hidden decimal_precision" t-att-data-precision="str(website.currency_id.decimal_places)">
                    <span t-field="product.list_price"
                      t-options="{'widget': 'monetary', 'display_currency': product.currency_id}"/>
                    <t t-if="is_view_active('website_sale.tax_indication')" t-call="theme_clarico_vega.tax_indication_ept"/>
                    <del t-if="combination_info['compare_list_price'] and (combination_info['compare_list_price'] &gt; combination_info['price'])">
                        <bdi dir="inherit">
                        <span t-field="product.compare_list_price"
                              groups="website_sale.group_product_price_comparison"
                              t-options="{'widget': 'monetary', 'display_currency': product.currency_id}"/>
                        </bdi>
                    </del>
                </h3>
                <div t-attf-class="te_discount  d-inline-block {{'' if combination_info['has_discounted_price'] else 'd-none'}}">
                    <div class="te_percentage ">
                        <span class="percent_val" t-esc="'%s'%(discount)"/>% Off
                    </div>
                </div>
            </div>
        </xpath>
    </template>
</odoo>